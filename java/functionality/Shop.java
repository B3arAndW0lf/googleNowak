package functionality;import console.ConsoleOutput;import inter.consoleOutputControl;import java.io.BufferedReader;import java.io.FileNotFoundException;import java.io.FileReader;import java.io.IOException;import java.util.ArrayList;import java.util.Scanner;import static console.ConsoleOutput.db_path;public class Shop {    public ArrayList<String> sumList() throws IOException {        ArrayList<String> list = new ArrayList<String>();        try {            String st;            BufferedReader br = new BufferedReader(new FileReader(db_path));            while ((st = br.readLine()) != null) {                list.add(st);            }            br.close();        }        catch (FileNotFoundException fileNotFoundException){            System.out.println("Nie mogę znależć plik s Bazą Danych");        }        return list;    }    /**Menu dodawania Produktu **/    private void addProduct() throws IOException {        try {            consoleOutputControl consoleOutput = new ConsoleOutput();            ArrayList<Integer> chosenList = new ArrayList<Integer>();            Scanner scanner = new Scanner(System.in);            consoleOutput.showDbContent();            System.out.println("Prosze wybrac produkt...");            System.out.println("Dodaj 0 lub exit zeby przerwać");            Shop shop =new Shop();            for (int i = 0; i < shop.sumList().size(); i++) {                String type = scanner.next();                if(type.equals("exit") || type.equals("0")){                    break;                }                try {                    System.out.println();                    String main_string = shop.sumList().get(Integer.parseInt(type));                    String singleCost = main_string.substring(main_string.lastIndexOf("CENA: ") + 6, main_string.lastIndexOf(" | WAGA:"));                    System.out.println(singleCost);                    int cost = Integer.parseInt(singleCost);                    chosenList.add(cost);                    System.out.println("Wybrany towar");                    System.out.println(main_string);                }                catch (StringIndexOutOfBoundsException stringIndexOutOfBoundsException ){                    continue;                }            }            int sum = 0;            for (int i = 0; i <chosenList.size() ; i++) {                sum+=chosenList.get(i);            }            System.out.println("do zaplaty "+sum);                    }        catch (java.util.InputMismatchException inputMismatchException){            System.out.println("Nieprawidłowy parametr");            addProduct();        }        catch (Exception e){            System.out.println("Smth went wrong...");            e.printStackTrace();        }    }    /**Menu sterowania Slepem**/    public void mainMenu() throws IOException {        consoleOutputControl console = new ConsoleOutput();        console.showShopMainMenu();        Scanner scanner = new Scanner(System.in);        try {            int respnose = scanner.nextInt();            switch (respnose) {                case 1:{                    console.showDbContent();                }                case 2:{                    addProduct();                    break;                }            }        }        catch (java.util.InputMismatchException inputMismatchException){            System.out.println("PODANY PARAMETR NIE JEST INTEGER PODAJ INNY");            mainMenu();        }    }}